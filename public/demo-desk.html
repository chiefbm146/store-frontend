<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="./js/clean-url.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Goods Co. - Demo Store</title>

    <meta property="og:type" content="website">
    <meta property="og:title" content="Premium Goods Co. - Demo Store">
    <meta property="og:description" content="Quality Products for Modern Living">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75'>üè™</text></svg>">

    <!-- CSS -->
    <link rel="stylesheet" href="./css/demo-store.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="nav-bar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="/index.html" class="nav-back-button" title="Back to Platform">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="/index.html" class="nav-logo">
                    <span class="nav-logo-icon" id="store-icon">üè™</span>
                    <span id="store-name">Premium Goods Co.</span>
                </a>
            </div>
            <div class="nav-links">
                <a href="/shop-desk.html" class="nav-link"><span>üõçÔ∏è</span> Store</a>
                <a href="/about-desk.html" class="nav-link"><span>‚ÑπÔ∏è</span> About</a>
                <a href="/contact-desk.html" class="nav-link"><span>üì¨</span> Contact</a>
                <a href="/ai-chat-desk.html" class="nav-link"><span>ü§ñ</span> A.I. Chat</a>
                <a href="/cart-desk.html" class="nav-link"><span>üõí</span> Cart</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <span class="hero-emoji" id="hero-emoji">‚ú®</span>
            <h1 class="hero-title" id="hero-title">Welcome to Premium Goods Co.</h1>
            <p class="hero-subtitle" id="hero-subtitle">Discover quality products for your lifestyle</p>
            <p class="hero-description" id="hero-description">We curate the finest selection of products designed to enhance your everyday life. From home essentials to unique finds, every item is chosen with care.</p>
            <a href="/shop-desk.html" class="hero-cta" id="hero-cta">Browse Products</a>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="products-section">
        <div class="section-header">
            <h2 class="section-title" id="products-title">Featured Products</h2>
            <p class="section-subtitle" id="products-subtitle">Hand-picked items just for you</p>
        </div>
        <div class="products-grid" id="products-grid">
            <!-- Populated by JS -->
        </div>
    </section>

    <!-- Features -->
    <section class="features-section">
        <div class="features-grid" id="features-grid">
            <!-- Populated by JS -->
        </div>
    </section>

    <!-- About -->
    <section class="about-section" id="about">
        <div class="about-content">
            <div class="about-text">
                <h2 id="about-title">About Our Store</h2>
                <h3 id="about-subtitle">Quality you can trust</h3>
                <div id="about-paragraphs">
                    <!-- Populated by JS -->
                </div>
            </div>
            <div class="about-visual">
                <span class="about-emoji" id="about-emoji">üéØ</span>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p class="footer-tagline" id="footer-tagline">Premium Goods Co. - Quality for Modern Living</p>
        <p class="footer-links">
            <a href="/developer-desk.html" class="footer-link">Contact the Developer</a>
        </p>
        <p class="footer-copyright" id="footer-copyright">¬© 2025 Premium Goods Co. All rights reserved.</p>
    </footer>

    <!-- AI Chat Icon (Bottom Right) -->
    <button class="ai-chat-icon" onclick="openAIChat()" title="Chat with AI Assistant">
        ü§ñ
    </button>

    <!-- AI Chat Modal Overlay -->
    <div class="ai-chat-overlay" id="aiChatOverlay" onclick="closeAIChat()"></div>

    <!-- AI Chat Modal -->
    <div class="ai-chat-modal" id="aiChatModal">
        <div class="chat-modal-header">
            <h3 class="chat-modal-title">AI Chat Assistant</h3>
            <button class="chat-modal-close" onclick="closeAIChat()">‚úï</button>
        </div>
        <div class="chat-modal-body">
            <div class="messages" id="aiMessages">
                <div class="message ai-message">
                    Hello! I'm your AI assistant. How can I help you today?
                </div>
            </div>
        </div>
        <div class="chat-modal-input">
            <input type="text" placeholder="Ask me anything..." id="aiChatInput" />
            <button onclick="sendAIMessage()">Send</button>
        </div>
    </div>

    <!-- Config System -->
    <script type="module">
        import { injectTheme } from './js/theme-injector.js';
        import demoStore from './js/config/content/demo-store.js';

        // Inject theme
        injectTheme();

        // Populate content
        document.addEventListener('DOMContentLoaded', () => {
            // Store name and icon
            document.getElementById('store-icon').textContent = demoStore.storeIcon;
            document.getElementById('store-name').textContent = demoStore.storeName;

            // Hero
            document.getElementById('hero-emoji').textContent = demoStore.hero.backgroundEmoji;
            document.getElementById('hero-title').textContent = demoStore.hero.title;
            document.getElementById('hero-subtitle').textContent = demoStore.hero.subtitle;
            document.getElementById('hero-description').textContent = demoStore.hero.description;
            document.getElementById('hero-cta').textContent = demoStore.hero.ctaText;
            document.getElementById('hero-cta').href = demoStore.hero.ctaLink;

            // Featured Products
            document.getElementById('products-title').textContent = demoStore.featuredProducts.title;
            document.getElementById('products-subtitle').textContent = demoStore.featuredProducts.subtitle;

            const productsGrid = document.getElementById('products-grid');
            productsGrid.innerHTML = demoStore.featuredProducts.products.map(product => `
                <div class="product-card" onclick="window.location.href='${product.link}'">
                    <div class="product-icon">${product.emoji}</div>
                    <div class="product-content">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">${product.price}</div>
                        <a href="${product.link}" class="product-link">View Details</a>
                    </div>
                </div>
            `).join('');

            // Features
            const featuresGrid = document.getElementById('features-grid');
            featuresGrid.innerHTML = demoStore.features.map(feature => `
                <div class="feature-card">
                    <span class="feature-icon">${feature.icon}</span>
                    <h3 class="feature-title">${feature.title}</h3>
                    <p class="feature-description">${feature.description}</p>
                </div>
            `).join('');

            // About
            document.getElementById('about-title').textContent = demoStore.about.title;
            document.getElementById('about-subtitle').textContent = demoStore.about.subtitle;
            document.getElementById('about-emoji').textContent = demoStore.about.emoji;

            const aboutParagraphs = document.getElementById('about-paragraphs');
            aboutParagraphs.innerHTML = demoStore.about.content.map(p => `<p>${p}</p>`).join('');

            // Footer
            document.getElementById('footer-tagline').textContent = demoStore.footer.tagline;
            document.getElementById('footer-copyright').textContent = demoStore.footer.copyright;
        });
    </script>

    <!-- AI Chat Functions -->
    <script>
        function openAIChat() {
            document.getElementById('aiChatModal').classList.add('active');
            document.getElementById('aiChatOverlay').classList.add('active');
            document.getElementById('aiChatInput').focus();
        }

        function closeAIChat() {
            document.getElementById('aiChatModal').classList.remove('active');
            document.getElementById('aiChatOverlay').classList.remove('active');
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const messagesDiv = document.getElementById('aiMessages');

            if (input.value.trim()) {
                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'message user-message';
                userMsg.textContent = input.value;
                messagesDiv.appendChild(userMsg);

                // Add AI response
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'message ai-message';
                    aiMsg.textContent = 'Thanks for your message! In a live store, I would answer questions about products, pricing, and help with orders.';
                    messagesDiv.appendChild(aiMsg);
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                }, 500);

                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }
        }

        // Enter key to send
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('aiChatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendAIMessage();
            });

            // Close modal with Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeAIChat();
            });
        });
    </script>
</body>
</html>
