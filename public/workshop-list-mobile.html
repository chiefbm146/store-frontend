<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="./js/clean-url.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moon Tide Workshops - Mobile</title>

    <meta property="og:type" content="website">
    <meta property="og:title" content="Moon Tide Workshops">
    <meta property="og:description" content="Browse all transformative cultural workshops and experiences offered by Moon Tide Reconciliation.">

    <link rel="stylesheet" href="/css/fullscreen-modals.css">
</head>
<body>
    <div class="fullscreen-modal-backdrop">
        <div class="fullscreen-modal">
            <!-- Header -->
            <div class="modal-header-game">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span class="modal-title-emoji">ðŸ“…</span>
                    <h1 class="modal-title-game" style="margin: 0;">Moon Tide Workshops</h1>
                </div>
                <div class="modal-header-disclaimer">
                    All workshop prices shown are per person and based on a minimum of 10 participants.
                </div>
                <button class="modal-close-btn" onclick="navigateBack()" title="Close">âœ•</button>
            </div>

            <!-- Mobile Disclaimer (appears after header on mobile) -->
            <div class="modal-disclaimer-mobile">
                All workshop prices shown are per person and based on a minimum of 10 participants.
            </div>

            <!-- Content Area -->
            <div class="modal-content-game">
                <div class="services-grid" id="workshopGrid">
                    <!-- Workshop cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Footer Close Button -->
            <button class="modal-footer-close-btn" onclick="navigateBack()">Close</button>
        </div>
    </div>

    </script>

    <script>
        function navigateBack() {
            window.location.href = '/menu';
        }

        // Prevent pull-to-refresh on the modal content area
        const modalContent = document.querySelector('.modal-content-game');
        let startY = 0;

        if (modalContent) {
            modalContent.addEventListener('touchstart', (e) => {
                startY = e.touches[0].pageY;
            }, { passive: true });

            modalContent.addEventListener('touchmove', (e) => {
                const y = e.touches[0].pageY;
                // Only prevent if at the top of the modal content and pulling down
                if (y > startY && modalContent.scrollTop === 0) {
                    e.preventDefault();
                }
            }, { passive: false });
        }

        // ESC key support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                navigateBack();
            }
        });
    </script>
</body>
</html>
